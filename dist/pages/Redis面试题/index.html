<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Redis面试题 | HelloCoder</title>
    <meta name="generator" content="VuePress 1.9.2">
    <link rel="icon" href="/img/favicon.ico">
    <script charset="utf-8" async="async" src="/js/jquery.min.js"></script>
    <script charset="utf-8" async="async" src="/js/global.js"></script>
    <script charset="utf-8" async="async" src="/js/fingerprint2.min.js"></script>
    <script charset="utf-8" async="async" src="https://readmore.openwrite.cn/js/readmore.js"></script>
    <script charset="utf-8" async="async" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <script>
              var _hmt = _hmt || [];
              (function() {
                var hm = document.createElement("script");
                hm.src = "https://hm.baidu.com/hm.js?b673363a2df767abd890cd6918642392";
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(hm, s);
              })();
            </script>
    <meta name="description" content="java面试,java学习,面试指南,Java小白求职之路">
    <meta name="keywords" content="java面试,java面试题目,java核心知识,面试指南,Java小白求职之路">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.31d5a14b.css" as="style"><link rel="preload" href="/assets/js/app.d0508845.js" as="script"><link rel="preload" href="/assets/js/3.627203dc.js" as="script"><link rel="preload" href="/assets/js/4.f8c5c538.js" as="script"><link rel="preload" href="/assets/js/34.c93cc189.js" as="script"><link rel="prefetch" href="/assets/js/10.092b5888.js"><link rel="prefetch" href="/assets/js/100.789c202f.js"><link rel="prefetch" href="/assets/js/101.5fcd8d28.js"><link rel="prefetch" href="/assets/js/102.090a854c.js"><link rel="prefetch" href="/assets/js/103.38d513b0.js"><link rel="prefetch" href="/assets/js/104.e87bf255.js"><link rel="prefetch" href="/assets/js/105.634931dc.js"><link rel="prefetch" href="/assets/js/106.687705b5.js"><link rel="prefetch" href="/assets/js/107.84f541c0.js"><link rel="prefetch" href="/assets/js/108.cfbc3da3.js"><link rel="prefetch" href="/assets/js/109.14272ace.js"><link rel="prefetch" href="/assets/js/11.6c1a3b0b.js"><link rel="prefetch" href="/assets/js/110.be30be67.js"><link rel="prefetch" href="/assets/js/111.345451c7.js"><link rel="prefetch" href="/assets/js/112.13a91799.js"><link rel="prefetch" href="/assets/js/113.0aa7b60a.js"><link rel="prefetch" href="/assets/js/114.415ab2e6.js"><link rel="prefetch" href="/assets/js/115.2d28f7ac.js"><link rel="prefetch" href="/assets/js/116.1ae3a341.js"><link rel="prefetch" href="/assets/js/117.4ec40407.js"><link rel="prefetch" href="/assets/js/118.df29dadc.js"><link rel="prefetch" href="/assets/js/119.009aa402.js"><link rel="prefetch" href="/assets/js/12.e4257831.js"><link rel="prefetch" href="/assets/js/120.a6b96f18.js"><link rel="prefetch" href="/assets/js/121.b6861548.js"><link rel="prefetch" href="/assets/js/122.eac77ee4.js"><link rel="prefetch" href="/assets/js/123.9293da4e.js"><link rel="prefetch" href="/assets/js/124.652d56cd.js"><link rel="prefetch" href="/assets/js/125.7b0df48f.js"><link rel="prefetch" href="/assets/js/126.e6c0e4c8.js"><link rel="prefetch" href="/assets/js/127.1a8120ab.js"><link rel="prefetch" href="/assets/js/128.37ad0db9.js"><link rel="prefetch" href="/assets/js/129.bc609012.js"><link rel="prefetch" href="/assets/js/13.808901cf.js"><link rel="prefetch" href="/assets/js/130.f639f75d.js"><link rel="prefetch" href="/assets/js/131.f385abcf.js"><link rel="prefetch" href="/assets/js/132.832ec770.js"><link rel="prefetch" href="/assets/js/133.fc112fb7.js"><link rel="prefetch" href="/assets/js/134.0eac8713.js"><link rel="prefetch" href="/assets/js/135.70254a3c.js"><link rel="prefetch" href="/assets/js/136.53518bbe.js"><link rel="prefetch" href="/assets/js/137.986d5099.js"><link rel="prefetch" href="/assets/js/138.f7061043.js"><link rel="prefetch" href="/assets/js/139.3d3e0a86.js"><link rel="prefetch" href="/assets/js/14.282514bf.js"><link rel="prefetch" href="/assets/js/140.a30b9e75.js"><link rel="prefetch" href="/assets/js/141.9557687b.js"><link rel="prefetch" href="/assets/js/142.fd2fb42b.js"><link rel="prefetch" href="/assets/js/143.9f298a51.js"><link rel="prefetch" href="/assets/js/144.cf660447.js"><link rel="prefetch" href="/assets/js/145.0f95a162.js"><link rel="prefetch" href="/assets/js/146.e9b23735.js"><link rel="prefetch" href="/assets/js/147.5256b215.js"><link rel="prefetch" href="/assets/js/148.47814ae9.js"><link rel="prefetch" href="/assets/js/149.f6f6009a.js"><link rel="prefetch" href="/assets/js/15.475ef0b3.js"><link rel="prefetch" href="/assets/js/150.602b603f.js"><link rel="prefetch" href="/assets/js/151.b49a284a.js"><link rel="prefetch" href="/assets/js/152.00176fc1.js"><link rel="prefetch" href="/assets/js/153.6cb24704.js"><link rel="prefetch" href="/assets/js/154.4df33597.js"><link rel="prefetch" href="/assets/js/155.09014dbe.js"><link rel="prefetch" href="/assets/js/156.654a36e0.js"><link rel="prefetch" href="/assets/js/157.ff54622e.js"><link rel="prefetch" href="/assets/js/158.c62c4d5b.js"><link rel="prefetch" href="/assets/js/159.38e0b196.js"><link rel="prefetch" href="/assets/js/16.70142bab.js"><link rel="prefetch" href="/assets/js/160.3dad9f50.js"><link rel="prefetch" href="/assets/js/161.21c87900.js"><link rel="prefetch" href="/assets/js/162.1065a115.js"><link rel="prefetch" href="/assets/js/163.e5a04c00.js"><link rel="prefetch" href="/assets/js/164.0f7bc9f1.js"><link rel="prefetch" href="/assets/js/165.3976f276.js"><link rel="prefetch" href="/assets/js/166.3445c45a.js"><link rel="prefetch" href="/assets/js/167.fc2138f1.js"><link rel="prefetch" href="/assets/js/168.966dcea4.js"><link rel="prefetch" href="/assets/js/169.8799dc84.js"><link rel="prefetch" href="/assets/js/17.fa885d91.js"><link rel="prefetch" href="/assets/js/170.01b8ad3a.js"><link rel="prefetch" href="/assets/js/171.b4014bd8.js"><link rel="prefetch" href="/assets/js/172.3bd61d26.js"><link rel="prefetch" href="/assets/js/173.52a15651.js"><link rel="prefetch" href="/assets/js/174.9de71113.js"><link rel="prefetch" href="/assets/js/175.d66d3e95.js"><link rel="prefetch" href="/assets/js/176.897c18ac.js"><link rel="prefetch" href="/assets/js/177.f38864d2.js"><link rel="prefetch" href="/assets/js/178.e14af194.js"><link rel="prefetch" href="/assets/js/179.ba8f78dc.js"><link rel="prefetch" href="/assets/js/18.0ea2f844.js"><link rel="prefetch" href="/assets/js/180.1ff94c07.js"><link rel="prefetch" href="/assets/js/181.fd692509.js"><link rel="prefetch" href="/assets/js/182.49cdf10d.js"><link rel="prefetch" href="/assets/js/183.6d4c7c53.js"><link rel="prefetch" href="/assets/js/184.ecd6c29a.js"><link rel="prefetch" href="/assets/js/185.412abf14.js"><link rel="prefetch" href="/assets/js/186.67778a56.js"><link rel="prefetch" href="/assets/js/187.ba230d60.js"><link rel="prefetch" href="/assets/js/188.1dcf9315.js"><link rel="prefetch" href="/assets/js/189.51403747.js"><link rel="prefetch" href="/assets/js/19.13b9c9a5.js"><link rel="prefetch" href="/assets/js/190.b806ca7a.js"><link rel="prefetch" href="/assets/js/191.600f000b.js"><link rel="prefetch" href="/assets/js/192.cf3089cd.js"><link rel="prefetch" href="/assets/js/193.9dde13e6.js"><link rel="prefetch" href="/assets/js/194.35410885.js"><link rel="prefetch" href="/assets/js/195.cec4dacb.js"><link rel="prefetch" href="/assets/js/196.c2d48ed4.js"><link rel="prefetch" href="/assets/js/197.10022822.js"><link rel="prefetch" href="/assets/js/198.bce17054.js"><link rel="prefetch" href="/assets/js/199.24c79467.js"><link rel="prefetch" href="/assets/js/20.8d52cb49.js"><link rel="prefetch" href="/assets/js/200.dd3507e5.js"><link rel="prefetch" href="/assets/js/201.68271ffe.js"><link rel="prefetch" href="/assets/js/202.33815a0e.js"><link rel="prefetch" href="/assets/js/203.156759b3.js"><link rel="prefetch" href="/assets/js/204.4b6aa80a.js"><link rel="prefetch" href="/assets/js/205.e55a5c0b.js"><link rel="prefetch" href="/assets/js/206.2562b643.js"><link rel="prefetch" href="/assets/js/207.1d5737f8.js"><link rel="prefetch" href="/assets/js/208.0cfdd7ea.js"><link rel="prefetch" href="/assets/js/209.ea30193b.js"><link rel="prefetch" href="/assets/js/21.fbb1e33f.js"><link rel="prefetch" href="/assets/js/210.6eaca261.js"><link rel="prefetch" href="/assets/js/211.4a59853c.js"><link rel="prefetch" href="/assets/js/212.35083c34.js"><link rel="prefetch" href="/assets/js/213.b494a1a0.js"><link rel="prefetch" href="/assets/js/214.b1ab56a2.js"><link rel="prefetch" href="/assets/js/215.c9ea79d0.js"><link rel="prefetch" href="/assets/js/216.7c8de4e3.js"><link rel="prefetch" href="/assets/js/217.8870ea92.js"><link rel="prefetch" href="/assets/js/218.e8be12f4.js"><link rel="prefetch" href="/assets/js/219.c43ff113.js"><link rel="prefetch" href="/assets/js/22.3706db64.js"><link rel="prefetch" href="/assets/js/220.2fec6af0.js"><link rel="prefetch" href="/assets/js/221.50cb0d10.js"><link rel="prefetch" href="/assets/js/222.c181f71a.js"><link rel="prefetch" href="/assets/js/223.792d16db.js"><link rel="prefetch" href="/assets/js/224.f880d89c.js"><link rel="prefetch" href="/assets/js/225.85794734.js"><link rel="prefetch" href="/assets/js/226.2e216d09.js"><link rel="prefetch" href="/assets/js/227.26777ba1.js"><link rel="prefetch" href="/assets/js/228.c97f6aab.js"><link rel="prefetch" href="/assets/js/229.a98ca25f.js"><link rel="prefetch" href="/assets/js/23.09f8e059.js"><link rel="prefetch" href="/assets/js/230.0088a954.js"><link rel="prefetch" href="/assets/js/231.bddb749f.js"><link rel="prefetch" href="/assets/js/232.2ee9cd11.js"><link rel="prefetch" href="/assets/js/233.d46093e0.js"><link rel="prefetch" href="/assets/js/234.9542c7c8.js"><link rel="prefetch" href="/assets/js/235.ddd855c9.js"><link rel="prefetch" href="/assets/js/236.adcc2988.js"><link rel="prefetch" href="/assets/js/237.1d2f1517.js"><link rel="prefetch" href="/assets/js/238.6f916ec6.js"><link rel="prefetch" href="/assets/js/239.4125ebc7.js"><link rel="prefetch" href="/assets/js/24.cf4be8d3.js"><link rel="prefetch" href="/assets/js/240.cb5a4808.js"><link rel="prefetch" href="/assets/js/241.756298b2.js"><link rel="prefetch" href="/assets/js/242.63ab0891.js"><link rel="prefetch" href="/assets/js/243.5539aa03.js"><link rel="prefetch" href="/assets/js/244.4d86d9b6.js"><link rel="prefetch" href="/assets/js/245.c3fd1279.js"><link rel="prefetch" href="/assets/js/246.cacb4a3e.js"><link rel="prefetch" href="/assets/js/247.f3eea118.js"><link rel="prefetch" href="/assets/js/248.fd8b6c12.js"><link rel="prefetch" href="/assets/js/249.c26d1415.js"><link rel="prefetch" href="/assets/js/25.e94228ea.js"><link rel="prefetch" href="/assets/js/250.be82a076.js"><link rel="prefetch" href="/assets/js/251.d8a58f41.js"><link rel="prefetch" href="/assets/js/252.bf357e1a.js"><link rel="prefetch" href="/assets/js/253.4a91808c.js"><link rel="prefetch" href="/assets/js/254.1ca39bdb.js"><link rel="prefetch" href="/assets/js/255.8641722e.js"><link rel="prefetch" href="/assets/js/256.3816cd95.js"><link rel="prefetch" href="/assets/js/257.0966926f.js"><link rel="prefetch" href="/assets/js/258.3968e249.js"><link rel="prefetch" href="/assets/js/259.83796c54.js"><link rel="prefetch" href="/assets/js/26.d4148eb7.js"><link rel="prefetch" href="/assets/js/260.381a0a12.js"><link rel="prefetch" href="/assets/js/261.2cee2a10.js"><link rel="prefetch" href="/assets/js/262.424ce92b.js"><link rel="prefetch" href="/assets/js/263.7967b7d4.js"><link rel="prefetch" href="/assets/js/264.e8834bfb.js"><link rel="prefetch" href="/assets/js/265.b817854b.js"><link rel="prefetch" href="/assets/js/266.b94f2644.js"><link rel="prefetch" href="/assets/js/267.8f2ea94f.js"><link rel="prefetch" href="/assets/js/268.47c064d0.js"><link rel="prefetch" href="/assets/js/269.782a939b.js"><link rel="prefetch" href="/assets/js/27.450df6f4.js"><link rel="prefetch" href="/assets/js/270.105d7c0d.js"><link rel="prefetch" href="/assets/js/271.aa29f316.js"><link rel="prefetch" href="/assets/js/272.91b4e078.js"><link rel="prefetch" href="/assets/js/273.f836dbc2.js"><link rel="prefetch" href="/assets/js/274.704ff6c2.js"><link rel="prefetch" href="/assets/js/275.f6b8a007.js"><link rel="prefetch" href="/assets/js/276.e3daa4f5.js"><link rel="prefetch" href="/assets/js/277.5f75d840.js"><link rel="prefetch" href="/assets/js/278.395e0663.js"><link rel="prefetch" href="/assets/js/279.4dbe7cc5.js"><link rel="prefetch" href="/assets/js/28.ea973115.js"><link rel="prefetch" href="/assets/js/280.17efdb3a.js"><link rel="prefetch" href="/assets/js/281.6f6742d2.js"><link rel="prefetch" href="/assets/js/282.d8511e99.js"><link rel="prefetch" href="/assets/js/283.30f4c6b2.js"><link rel="prefetch" href="/assets/js/284.5ec7168d.js"><link rel="prefetch" href="/assets/js/285.9ab30306.js"><link rel="prefetch" href="/assets/js/286.8d4e4982.js"><link rel="prefetch" href="/assets/js/287.d493b2bc.js"><link rel="prefetch" href="/assets/js/288.2aeac7af.js"><link rel="prefetch" href="/assets/js/289.4650a83b.js"><link rel="prefetch" href="/assets/js/29.d9a8528d.js"><link rel="prefetch" href="/assets/js/290.0cc32bc3.js"><link rel="prefetch" href="/assets/js/291.b3c4686e.js"><link rel="prefetch" href="/assets/js/292.1748b363.js"><link rel="prefetch" href="/assets/js/293.4c4004c0.js"><link rel="prefetch" href="/assets/js/294.bb62ee5f.js"><link rel="prefetch" href="/assets/js/295.93bfcdf9.js"><link rel="prefetch" href="/assets/js/296.f0185e27.js"><link rel="prefetch" href="/assets/js/297.c4b749fe.js"><link rel="prefetch" href="/assets/js/298.de548e40.js"><link rel="prefetch" href="/assets/js/299.c8fd9294.js"><link rel="prefetch" href="/assets/js/30.5743c974.js"><link rel="prefetch" href="/assets/js/300.31fc540f.js"><link rel="prefetch" href="/assets/js/301.d50442fb.js"><link rel="prefetch" href="/assets/js/302.90d15746.js"><link rel="prefetch" href="/assets/js/303.10cbb658.js"><link rel="prefetch" href="/assets/js/304.58bd1673.js"><link rel="prefetch" href="/assets/js/305.ab7a9b11.js"><link rel="prefetch" href="/assets/js/306.9c941a59.js"><link rel="prefetch" href="/assets/js/307.83ad9f7e.js"><link rel="prefetch" href="/assets/js/308.08b0e0cf.js"><link rel="prefetch" href="/assets/js/309.85eccc4d.js"><link rel="prefetch" href="/assets/js/31.bf122e51.js"><link rel="prefetch" href="/assets/js/310.50de3d9b.js"><link rel="prefetch" href="/assets/js/311.474bdf6b.js"><link rel="prefetch" href="/assets/js/32.2563f3ea.js"><link rel="prefetch" href="/assets/js/33.f295995f.js"><link rel="prefetch" href="/assets/js/35.3c78a9b9.js"><link rel="prefetch" href="/assets/js/36.fdc81f0b.js"><link rel="prefetch" href="/assets/js/37.1296700b.js"><link rel="prefetch" href="/assets/js/38.cfac0a5e.js"><link rel="prefetch" href="/assets/js/39.4872f5bc.js"><link rel="prefetch" href="/assets/js/40.4b74cf8f.js"><link rel="prefetch" href="/assets/js/41.d22826e3.js"><link rel="prefetch" href="/assets/js/42.55b21b66.js"><link rel="prefetch" href="/assets/js/43.7047fa6f.js"><link rel="prefetch" href="/assets/js/44.35a358a2.js"><link rel="prefetch" href="/assets/js/45.15dc5800.js"><link rel="prefetch" href="/assets/js/46.f6199729.js"><link rel="prefetch" href="/assets/js/47.b2bf95ea.js"><link rel="prefetch" href="/assets/js/48.bc61bda9.js"><link rel="prefetch" href="/assets/js/49.6dad9169.js"><link rel="prefetch" href="/assets/js/5.4e98d334.js"><link rel="prefetch" href="/assets/js/50.4160f3b8.js"><link rel="prefetch" href="/assets/js/51.0e75671d.js"><link rel="prefetch" href="/assets/js/52.53e02de9.js"><link rel="prefetch" href="/assets/js/53.85c18f08.js"><link rel="prefetch" href="/assets/js/54.c31e73ab.js"><link rel="prefetch" href="/assets/js/55.74416ac3.js"><link rel="prefetch" href="/assets/js/56.5e6b0a85.js"><link rel="prefetch" href="/assets/js/57.33bdb855.js"><link rel="prefetch" href="/assets/js/58.9f7a011a.js"><link rel="prefetch" href="/assets/js/59.8a0a2584.js"><link rel="prefetch" href="/assets/js/6.083433fe.js"><link rel="prefetch" href="/assets/js/60.b570ab2b.js"><link rel="prefetch" href="/assets/js/61.ccaae01b.js"><link rel="prefetch" href="/assets/js/62.9a07bbba.js"><link rel="prefetch" href="/assets/js/63.c018e9bc.js"><link rel="prefetch" href="/assets/js/64.f944f45e.js"><link rel="prefetch" href="/assets/js/65.a22c58f9.js"><link rel="prefetch" href="/assets/js/66.38038f6e.js"><link rel="prefetch" href="/assets/js/67.bd870f5d.js"><link rel="prefetch" href="/assets/js/68.e4120077.js"><link rel="prefetch" href="/assets/js/69.8bd41696.js"><link rel="prefetch" href="/assets/js/7.e9b134f9.js"><link rel="prefetch" href="/assets/js/70.eea650ce.js"><link rel="prefetch" href="/assets/js/71.b96409c9.js"><link rel="prefetch" href="/assets/js/72.4f3c6343.js"><link rel="prefetch" href="/assets/js/73.ccb1423c.js"><link rel="prefetch" href="/assets/js/74.c1c52dd7.js"><link rel="prefetch" href="/assets/js/75.a5d285bc.js"><link rel="prefetch" href="/assets/js/76.a362d3eb.js"><link rel="prefetch" href="/assets/js/77.8504e6be.js"><link rel="prefetch" href="/assets/js/78.6e5f44cb.js"><link rel="prefetch" href="/assets/js/79.2c2ae896.js"><link rel="prefetch" href="/assets/js/8.29afb242.js"><link rel="prefetch" href="/assets/js/80.49a15c15.js"><link rel="prefetch" href="/assets/js/81.47e8142b.js"><link rel="prefetch" href="/assets/js/82.aa9e7766.js"><link rel="prefetch" href="/assets/js/83.8212a415.js"><link rel="prefetch" href="/assets/js/84.bedda97a.js"><link rel="prefetch" href="/assets/js/85.82284f44.js"><link rel="prefetch" href="/assets/js/86.855fcb86.js"><link rel="prefetch" href="/assets/js/87.4010b311.js"><link rel="prefetch" href="/assets/js/88.d23e7831.js"><link rel="prefetch" href="/assets/js/89.6fbbc112.js"><link rel="prefetch" href="/assets/js/9.1e652a25.js"><link rel="prefetch" href="/assets/js/90.7f754597.js"><link rel="prefetch" href="/assets/js/91.e4d1695b.js"><link rel="prefetch" href="/assets/js/92.481db47a.js"><link rel="prefetch" href="/assets/js/93.49b7d278.js"><link rel="prefetch" href="/assets/js/94.3c9c0e1b.js"><link rel="prefetch" href="/assets/js/95.a9100530.js"><link rel="prefetch" href="/assets/js/96.f05f407f.js"><link rel="prefetch" href="/assets/js/97.a1cbc66f.js"><link rel="prefetch" href="/assets/js/98.7a3ecd07.js"><link rel="prefetch" href="/assets/js/99.8d05d595.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.34aa9ddc.js">
    <link rel="stylesheet" href="/assets/css/0.styles.31d5a14b.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/site/logo.png" alt="HelloCoder" class="logo"> <span class="site-name can-hide">HelloCoder</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/LearnJavaToFindAJob_README/" class="nav-link">《Java小白求职之路》</a></div><div class="nav-item"><a href="/pages/PureJavaCoderRoad_README/" class="nav-link">《小白学Java》</a></div><div class="nav-item"><a href="/pages/Java%E5%B8%B8%E7%94%A8%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/" class="nav-link">脚手架工具</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机资源" class="dropdown-title"><!----> <span class="title" style="display:;">计算机资源</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/awesome-programming-resources/" class="nav-link">一些免费计算机资源</a></li><li class="dropdown-item"><!----> <a href="/pages/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%AF%95%E8%AE%BE%E7%9A%84%E4%B8%80%E4%BA%9B%E5%BB%BA%E8%AE%AE/" class="nav-link">毕设建议</a></li></ul></div></div><div class="nav-item"><a href="/pages/Java%E4%B9%A6%E6%9C%AC%E6%8E%A8%E8%8D%90/" class="nav-link">随笔</a></div><div class="nav-item"><a href="/pages/%E5%85%B3%E4%BA%8E%E6%88%91/" class="nav-link">关于作者</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/LearnJavaToFindAJob_README/" class="nav-link">《Java小白求职之路》</a></div><div class="nav-item"><a href="/pages/PureJavaCoderRoad_README/" class="nav-link">《小白学Java》</a></div><div class="nav-item"><a href="/pages/Java%E5%B8%B8%E7%94%A8%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/" class="nav-link">脚手架工具</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机资源" class="dropdown-title"><!----> <span class="title" style="display:;">计算机资源</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/awesome-programming-resources/" class="nav-link">一些免费计算机资源</a></li><li class="dropdown-item"><!----> <a href="/pages/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%AF%95%E8%AE%BE%E7%9A%84%E4%B8%80%E4%BA%9B%E5%BB%BA%E8%AE%AE/" class="nav-link">毕设建议</a></li></ul></div></div><div class="nav-item"><a href="/pages/Java%E4%B9%A6%E6%9C%AC%E6%8E%A8%E8%8D%90/" class="nav-link">随笔</a></div><div class="nav-item"><a href="/pages/%E5%85%B3%E4%BA%8E%E6%88%91/" class="nav-link">关于作者</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>《LearnJavaToFindAJob》</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>导读</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>【初级】6~12k档</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>Java基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>JVM</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>牛客网题库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>MySQL</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>Linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>计算机网络</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>操作系统</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading open"><span>Java框架</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/Hibernate%E9%9D%A2%E8%AF%95%E9%A2%98/" class="sidebar-link">Hibernate面试题</a></li><li><a href="/pages/Mybatis%E9%9D%A2%E8%AF%95%E9%A2%98/" class="sidebar-link">Mybatis面试题</a></li><li><a href="/pages/Redis%E9%9D%A2%E8%AF%95%E9%A2%98/" aria-current="page" class="active sidebar-link">Redis面试题</a></li><li><a href="/pages/Servlet%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/" class="sidebar-link">Servlet的生命周期</a></li><li><section class="sidebar-group collapsable is-sub-group depth-3"><p class="sidebar-heading"><span>Spring</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-3"><p class="sidebar-heading"><span>SpringBoot</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-3"><p class="sidebar-heading"><span>SpringCloud</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/pages/Spring%E6%8B%A6%E6%88%AA%E5%99%A8%E5%92%8C%E8%BF%87%E6%BB%A4%E5%99%A8%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F/" class="sidebar-link">Spring拦截器和过滤器有什么区别？</a></li><li><a href="/pages/Struts%E9%9D%A2%E8%AF%95%E9%A2%98/" class="sidebar-link">Struts面试题</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>【中级】12k-26k档</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>【高级】26k+档</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>大厂面试题</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>求职建议</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>面经</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-0d043077><div class="articleInfo" data-v-0d043077><ul class="breadcrumbs" data-v-0d043077><li data-v-0d043077><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-0d043077></a></li> <li data-v-0d043077><a href="/categories/?category=LearnJavaToFindAJob" title="分类" data-v-0d043077>LearnJavaToFindAJob</a></li><li data-v-0d043077><a href="/categories/?category=%E3%80%90%E5%88%9D%E7%BA%A7%E3%80%916~12k%E6%A1%A3" title="分类" data-v-0d043077>【初级】6~12k档</a></li><li data-v-0d043077><a href="/categories/?category=Java%E6%A1%86%E6%9E%B6" title="分类" data-v-0d043077>Java框架</a></li></ul> <div class="info" data-v-0d043077><div title="标签" class="iconfont icon-biaoqian tags" data-v-0d043077><a href="/tags/?tag=Redis" target="_blank" title="标签" class="beLink" data-v-0d043077>

          #Redis

        </a><a href="/tags/?tag=%E9%9D%A2%E8%AF%95%E9%A2%98" target="_blank" title="标签" class="beLink" data-v-0d043077>

          #面试题

        </a></div> <div title="作者" class="author iconfont icon-touxiang" data-v-0d043077><a href="javascript:;" data-v-0d043077>程序员阿雨</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-0d043077><a href="javascript:;" data-v-0d043077>2022-06-02</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div id="right-menu-content" class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">Redis面试题<!----></h1>  <div class="theme-vdoing-content content__default"><blockquote><p>我们在单机服务器，出现资源的竞争，一般使用synchronized 就可以解决，但是在分布式的服务器上，synchronized 就无法解决这个问题，这就需要一个分布式事务锁。</p> <p>除此之外面试，基本会问springboot、Redis，然后都会一路再聊到分布式事务、分布式事务锁的实现。</p></blockquote> <h3 id="_1、为什么要使用redis呢-对redis的一些个人理解"><a href="#_1、为什么要使用redis呢-对redis的一些个人理解" class="header-anchor">#</a> 1、为什么要使用Redis呢，对Redis的一些个人理解</h3> <blockquote><p>官方解释：Redis是一个可基于内存亦可持久化的日志型、Key-Value数据库。</p></blockquote> <p>论持久化，我们平时使用的MySQL就足够了，那为什么还需要引入Redis呢？无法就是 ：<strong>性能</strong> 。</p> <blockquote><p>数据获取的流程，一般是前端请求，后台先从缓存中取数据，缓存取不到则去数据库中取，数据库取到了则返回给前端，然后更新缓存，如果数据库取不到则返回空数据给前端。</p></blockquote> <p>那Redis的性能表现在哪方面呢——<strong>快</strong> 和 <strong>并发</strong>。</p> <p>为什么快？</p> <p>1）基于内存
2）单线程，避免上下文切换
3）非阻塞<strong>I/O多路复用机制</strong>
4）<strong>数据结构用的好</strong>。使用hash结构、压缩表、跳表等。</p> <p>并发：</p> <p>在高并发的情况下，比如说秒杀，当大量的请求都直接访问数据库，数据库会出现压力，如果使用Redis，就可以把MySQL的数据更新同步的到Redis，请求过来就可以先查Redis，没有再差数据库，减少压力。</p> <h3 id="_2、讲一下个人对i-o多路复用机制-的理解"><a href="#_2、讲一下个人对i-o多路复用机制-的理解" class="header-anchor">#</a> 2、讲一下个人对I/O多路复用机制 的理解</h3> <p>**“多路”<strong>指的是多个网络连接，</strong>“复用”**指的是复用同一个线程。</p> <p>简单理解：</p> <p><img src="https://cdn.jsdelivr.net/gh/DogerRain/image@main/img/image-20201022172324401.png" alt=" "></p> <p>多个socket请求，socket包括很多种事件类型，有get、push、exit 等等。这些socket准备好， 将其置入队列之中 ，文件事件分派器依次去队列中取，转发到不同的事件处理器中。</p> <blockquote><p>引用知乎一个生动形象的例子：</p> <p>作者：柴小喵
链接：https://www.zhihu.com/question/28594409/answer/52835876
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p></blockquote> <p>下面举一个例子，模拟一个tcp服务器处理30个客户socket。
假设你是一个老师，让30个学生解答一道题目，然后检查学生做的是否正确，你有下面几个选择：</p> <p>\1. 第一种选择：<strong>按顺序逐个检查</strong>，先检查A，然后是B，之后是C、D。。。这中间如果有一个学生卡主，全班都会被耽误。
这种模式就好比，你用循环挨个处理socket，根本不具有并发能力。
\2. 第二种选择：你<strong>创建30个分身</strong>，每个分身检查一个学生的答案是否正确。 这种类似于为每一个用户创建一个进程或者线程处理连接。
\3. 第三种选择，你<strong>站在讲台上等，谁解答完谁举手</strong>。这时C、D举手，表示他们解答问题完毕，你下去依次检查C、D的答案，然后继续回到讲台上等。此时E、A又举手，然后去处理E和A。。。
这种就是IO复用模型，Linux下的select、poll和epoll就是干这个的。将用户socket对应的fd注册进epoll，然后epoll帮你监听哪些socket上有消息到达，这样就避免了大量的无用操作。此时的socket应该采用<strong>非阻塞模式</strong>。
这样，整个过程只在调用select、poll、epoll这些调用的时候才会阻塞，收发客户消息是不会阻塞的，整个进程或者线程就被充分利用起来，这就是<strong>事件驱动</strong>，所谓的reactor模式。</p> <p>注意区分：select、poll跟epoll是不一样的。select/poll只会告诉你有人举手，不会告诉你是哪个同学举的手。</p> <h3 id="_3、redis的数据类型和用法"><a href="#_3、redis的数据类型和用法" class="header-anchor">#</a> 3、Redis的数据类型和用法</h3> <ol><li><p>String字符串
可以为整形、浮点型和字符串，统称为元素，<strong>点赞、计数、粉丝数</strong></p></li> <li><p>Hash</p> <p>一个 string 类型的 field（字段） 和 value（值） 的映射表，hash 特别适合用于<strong>存储对象、用户信息</strong></p></li> <li><p>List
有序串列表，<strong>粉丝列表、消息队列</strong>。</p></li> <li><p>Set
无序集合，集合成员是唯一的，这就意味着集合中不能出现重复的数据。<strong>共同关注、喜好、好友，标签</strong>。</p></li> <li><p>ZSet
有序集合，集合成员是唯一的。<strong>排行榜</strong>。</p></li></ol> <h3 id="_4、redis的过期策略"><a href="#_4、redis的过期策略" class="header-anchor">#</a> 4、redis的过期策略</h3> <h4 id="_1-定时删除"><a href="#_1-定时删除" class="header-anchor">#</a> 1.定时删除</h4> <p>在设置key的过期时间的同时，为该key创建一个定时器，让定时器在key的过期时间来临时，对key进行删除
<strong>优点：</strong>
保证内存被尽快释放
<strong>缺点：</strong>
1)若过期key很多，删除这些key会占用很多的CPU时间，在CPU时间紧张的情况下，CPU不能把所有的时间用来做要紧的事儿，还需要去花时间删除这些key。
2)定时器的创建耗时，若为每一个设置过期时间的key创建一个定时器（将会有大量的定时器产生），性能影响严重</p> <h4 id="_2-惰性删除"><a href="#_2-惰性删除" class="header-anchor">#</a> 2.惰性删除</h4> <p>key过期的时候不删除，每次从数据库获取key的时候去检查是否过期，若过期，则删除，返回null。
<strong>优点：</strong>
删除操作只发生在从数据库取出key的时候发生，而且只删除当前key，所以对CPU时间的占用是比较少的，而且此时的删除是已经到了非做不可的地步.
<strong>缺点：</strong>
若大量的key在超出超时时间后，很久一段时间内，都没有被获取过，那么可能发生内存泄露（无用的垃圾占用了大量的内存）</p> <h4 id="_3-定期删除"><a href="#_3-定期删除" class="header-anchor">#</a> 3.定期删除</h4> <p>如果当前库中没有一个key设置了过期时间，直接执行下一个库的遍历，随机获取一个设置了过期时间的key，检查该key是否过期，如果过期，删除key，判断定期删除操作是否已经达到指定时长，若已经达到，直接退出定期删除。（默认每个库检测20个key）
<strong>优点:</strong>
1)通过限制删除操作的时长和频率，来减少删除操作对CPU时间的占用--处理&quot;定时删除&quot;的缺点
2)定期删除过期key--处理&quot;惰性删除&quot;的缺点
<strong>缺点：</strong>
1)在内存友好方面，不如&quot;定时删除&quot;
2)在CPU时间友好方面，不如&quot;惰性删除&quot;</p> <p>Redis采用的策略：定期删除+惰性删除</p> <h3 id="_5、内存淘汰机制"><a href="#_5、内存淘汰机制" class="header-anchor">#</a> 5、内存淘汰机制</h3> <p>Redis有过期策略，假如你的Redis只能存1G的数据，你一个请求写入2G，而你也没有及时请求key，那么惰性删除就不生效了，Redis占用内存就会越来越高。</p> <p>Redis可以设置内存大小：</p> <div class="language- extra-class"><pre class="language-text"><code># maxmemory &lt;bytes&gt;
# 设置Redis最大占用内存大小为100
maxmemory 100mb
</code></pre></div><p>超过了这个内存大小，就会触发内存淘汰机制</p> <p>Redis有一个默认配置，这个是Redis的默认 <strong>内存淘汰机制</strong>：</p> <div class="language- extra-class"><pre class="language-text"><code># maxmemory-policy noeviction
</code></pre></div><p><code>maxmemory-policy</code>一共有8个值，当内存不足时：</p> <p>1）noeviction： 不删除，直接返回报错信息。
2）allkeys-lru：移除最久未使用（使用频率最少）使用的key。<strong>推荐使用这种。</strong>
3）volatile-lru：在设置了过期时间的key中，移除最久未使用的key。
4）allkeys-random：随机移除某个key。
5）volatile-random：在设置了过期时间的key中，随机移除某个key。
6）volatile-ttl： 在设置了过期时间的key中，移除准备过期的key。
7）allkeys-lfu：移除最近最少使用的key。
8）volatile-lfu：在设置了过期时间的key中，移除最近最少使用的key。</p> <blockquote><p>LRU和LFU的区别：</p> <p>LRU是最近最少使用页面置换算法(Least Recently Used),也就是首先淘汰最长时间未被使用的页面!</p> <p>比如有数据 1，1，1，2，2，3
此时缓存中已有（1，2）
当3加入的时候，得把前面的1淘汰，变成（3，2）</p> <p>LFU是最近最不常用页面置换算法(Least Frequently Used),也就是淘汰一定时期内被访问次数最少的页!</p> <p>比如有数据 1，1，1，2，2，3
缓存中有（1(3次)，2(2次)）
当3加入的时候，得把后面的2淘汰，变成（1(3次)，3(1次)）</p></blockquote> <p><strong>引申：</strong></p> <p>假如我的key没有设置expire，即没有设置过期时间。那么 volatile-lru、volatile-random、volatile-ttl  就无法执行了，和 noeviction 就一样了。</p> <h3 id="_6、redis的持久化机制"><a href="#_6、redis的持久化机制" class="header-anchor">#</a> 6、Redis的持久化机制</h3> <p>Redis是基于内存操作的，但它是一个支持持久化的数据库，通过持久化机制就可以把数据同步到硬盘，当Redis重启的时候就把硬盘的书籍加载到内存。
Redis支持两种持久化机制，一种是RDB，另一种是AOF，可以单独使用其中一种或将二者结合使用。</p> <p><strong>RDB持久化</strong>
RDB持久化是将当前进程中的数据生成快照保存到硬盘(因此也称作快照持久化)，保存的文件后缀是<code>.rdb</code>；当Redis重新启动时，可以读取快照文件恢复数据。</p> <p>RDB做持久化操作的时候，主线程需要调用系统的 fork() 函数，构建出一个子进程去操作；但是在子线程执行期间，父进程是阻塞的，无法响应其他请求。</p> <p>所以这种RDB方式很影响Redis的性能。</p> <p><strong>AOF持久化</strong>
RDB持久化是将进程数据写入文件，而AOF是将Redis执行的每次写命令记录到单独的日志文件中。（缓冲器）
随着日志文件的越来越大，Redis也是需要fork()函数去缩小日志文件大小的。
AOF还有另外一个方法，就是刷盘策略fsync，<strong>Redis默认每隔一秒进行一次fsync调用</strong>，将缓冲器的数据写入到磁盘。
如果磁盘不稳定，fsync也是会耗时的，也会影响性能。</p> <p>AOF有三种刷盘模式：</p> <ul><li>always：把每个写命令都立即同步到aof，很慢，但是很安全</li> <li>everysec：每秒同步一次，是折中方案</li> <li>no：redis不处理，交给OS来处理，非常快，但是也最不安全</li></ul> <p>一般采用everysec策略。</p> <p><strong>Redis重启如何恢复数据呢？</strong></p> <p>Redis启动前会先检查AOF文件，不存在才会去加载RDB文件，因为AOF的数据完整性高，最多也就损失1秒的数据。</p> <p><strong>两者区别：</strong></p> <p>1、都是调用了fork()函数，期间主线程会阻塞，然后子线程执行不阻塞。</p> <p>2、AOF恢复比较慢；RDB文件小，恢复快。</p> <p>3、RDB是数据快照文件，AOF是命令操作的日志文件，追加写。</p> <h3 id="_7、缓存击穿、穿透、雪崩有什么分别-如何应对"><a href="#_7、缓存击穿、穿透、雪崩有什么分别-如何应对" class="header-anchor">#</a> 7、缓存击穿、穿透、雪崩有什么分别，如何应对？</h3> <ul><li><p>缓存穿透是指<strong>缓存和数据库中都没有的数据</strong>，而用户不断发起请求，如发起为id为“-1”的数据或id为特别大（不存在的数据）。这时的用户很可能是攻击者，攻击会导致数据库压力过大。</p> <p>解决：</p> <ol><li>接口层增加校验，如用户鉴权校验，id做基础校验，比如 id&lt;=0的直接拦截； 最常见的则是采用<strong>布隆过滤器</strong>，将所有可能存在的数据哈希到一个足够大的bitmap中，一个一定不存在的数据会被这个bitmap拦截掉，从而避免了对底层存储系统的查询压力。</li> <li>另外也有一个更为<strong>简单粗暴的方法</strong>，如果一个查询返回的数据为空（不管是数据不存在，还是系统故障），我们仍然把这个空结果进行缓存，但它的过期时间会很短，最长不超过五分钟。通过这个直接设置的默认值存放到缓存，这样第二次到缓冲中获取就有值了，而不会继续访问数据库，这种办法最简单粗暴。</li></ol></li> <li><p>缓存击穿是指<strong>缓存中没有但数据库中有的数据</strong>，当一个key非常热点（类似于爆款），在不停的扛着大并发，大并发集中对这一个点进行访问；当这个key在失效的瞬间，持续的大并发就穿破缓存，直接请求数据库，就像在一个屏障上凿开了一个洞。</p> <p>解决：</p> <ol><li>设置热点数据永远不过期。</li> <li>加互斥锁。</li></ol></li> <li><p>缓存雪崩是指<strong>缓存中数据大批量到过期时间</strong>，大批量数据同一时间过期，导致请求量全部请求到数据库，造成数据库宕机。</p> <p>解决：</p> <ol><li><p>给缓存失效时间，加上一个随机值，避免大量缓存集体失效。</p></li> <li><p>双缓存：缓存A和B，比如A的失效时间是20分钟，B不失效。比如从A中没读到，就去B中读，然后异步起一个线程同步到A。</p></li></ol></li></ul> <h3 id="_8、memcache与redis的区别"><a href="#_8、memcache与redis的区别" class="header-anchor">#</a> 8、Memcache与Redis的区别</h3> <p>1、存储方式不同，可靠性不同</p> <p>memecache 把数据全部存在内存之中；Redis可以持久化到硬盘。宕机、断电 Redis可以恢复，memecache 不能，memecache 不支持数据持久化。</p> <p>2、数据类型不同</p> <p>memecache只有简单的字符串类型，虽然也可以缓存图片；Redis有很多种类型。</p> <p>3、速度不一样</p> <p>Memcache可以利用多核优势，单实例吞吐量极高，可以达到几十万QPS,适用于最大程度扛量，100k以上的文件memcache较快。</p> <p>4、存储数据大小不一样</p> <p>Memcached单个key-value大小有限，一个value最大只支持1MB，而Redis最大支持512MB 。</p> <h3 id="_9、redis-常见性能问题和解决方案"><a href="#_9、redis-常见性能问题和解决方案" class="header-anchor">#</a> 9、Redis 常见性能问题和解决方案</h3> <p>(1) Master 最好不要做任何持久化工作，如 RDB 内存快照和 AOF 日志文件。（因为RDB生成快照是很耗性能的，这样会阻塞master，会造成master假死）
(2) 如果数据比较重要，某个 Slave 开启 AOF 备份数据，策略设置为每秒同步一次（这个持久化方式对性能的影响是最小的，但是AOF文件会不断增大，AOF文件过大会影响Master重启的恢复速度，所以要合理设置AOF重写机制）
(3) Master 和 Slave 最好在同一个局域网内（主从复制的速度快和连接的稳定性强 ）
(4) 读写分离，把请求压力分散到各个服务。</p> <h3 id="_10、redis分布式锁了解吗"><a href="#_10、redis分布式锁了解吗" class="header-anchor">#</a> 10、Redis分布式锁了解吗？</h3> <p>关键点：SETNX命令。</p> <p>Redis中提供SETNX命令可以实现分布式锁。redisson也可以实现（redisson是在Redis是封装的一个jar，简单灵活），配合lua进行加锁和解锁。</p> <p>将 key 的值设为 value ，当且仅当 key 不存在。 若给定的 key 已经存在，则 SETNX 不做任何动作。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">RLock</span> rLock <span class="token operator">=</span> redissonClient<span class="token punctuation">.</span><span class="token function">getLock</span><span class="token punctuation">(</span>lockKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Boolean</span> flag <span class="token operator">=</span> rLock<span class="token punctuation">.</span><span class="token function">tryLock</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span><span class="token punctuation">;</span>
rLock<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如果要实现分布式锁，一定要解锁。</p> <h3 id="_11、redis的并发竞争问题如何解决"><a href="#_11、redis的并发竞争问题如何解决" class="header-anchor">#</a> 11、Redis的并发竞争问题如何解决?</h3> <p>出现这个问题的原因：多个子系统去set一个key-value，并发情况下，可能会导致数据一致性问题。</p> <p>上面第10点说的分布式锁是一种方案，利用SETNX命令。确保同一个时间，只有一个线程拿到了锁，其他则在等待。</p> <p>还有一种方案就是时间戳。</p> <blockquote><p>参考自：孤独烟大佬的</p></blockquote> <p>如果对这个key操作，<strong>要求顺序</strong></p> <p>假设有一个key1,系统A需要将key1设置为valueA,系统B需要将key1设置为valueB,系统C需要将key1设置为valueC.
期望按照key1的value值按照 valueA--&gt;valueB--&gt;valueC的顺序变化。这种时候我们在数据写入数据库的时候，需要保存一个时间戳。假设时间戳如下</p> <div class="language- extra-class"><pre class="language-text"><code>系统A key 1 {valueA  3:00}
系统B key 1 {valueB  3:05}
系统C key 1 {valueC  3:10}
</code></pre></div><p>那么，假设这会系统B先抢到锁，将key1设置为{valueB 3:05}。接下来系统A抢到锁，发现自己的valueA的时间戳早于缓存中的时间戳，那就不做set操作了。以此类推。</p> <p>其他方法，比如利用队列，将set方法变成串行访问也可以。总之，灵活变通。</p> <h3 id="_12、redis-事务了解吗"><a href="#_12、redis-事务了解吗" class="header-anchor">#</a> 12、redis 事务了解吗？</h3> <p>Redis也自带事务，但是和MySQL的不同，又有点类似。</p> <p>Redis事务和MySQL一样，通过 <code>begin；commit；rollback</code>去开启和提交/回滚事务，只不过命令不一样。</p> <p>具体参考：https://www.cnblogs.com/DeepInThought/p/10720132.html</p> <h3 id="_13、双一致性问题"><a href="#_13、双一致性问题" class="header-anchor">#</a> 13、双一致性问题</h3> <p>简单的说就是先写Redis还是先写数据库的问题。</p> <p>比如：</p> <p><img src="https://blog-1253198264.cos.ap-guangzhou.myqcloud.com/image-20201029113401812.png" alt=" "></p> <p>那么A就会有数据脏读问题。</p> <p>如果想深入了解（这个比较复杂）可以参考这个：</p> <p>https://www.cnblogs.com/rjzheng/p/9041659.html</p></div></div> <div class="read-more-wrap" style="display:none;position:absolute;bottom:0px;z-index:9999;width:100%;margin-top:-100px;font-family:PingFangSC-Regular, sans-serif;"><div id="read-more-mask" style="position: relative; height: 300px; background:-webkit-gradient(linear, 0 0%, 0 50%, from(rgba(255, 255, 255, 0)), to(rgb(255 255 255 / 82%)));"></div> <a id="read-more-btn" target="_self" style="position: absolute; left: 50%; top: 50%; bottom: 30px; transform: translate(-50%, -50%); width: 160px; height: 36px; line-height: 36px; font-size: 15px; text-align: center; border: 1px solid rgb(222, 104, 109); color: rgb(222, 104, 109); background: rgb(255, 255, 255); cursor: pointer; border-radius: 6px;"><span id="read-more-text">阅读全文</span> <br style="display:none;"> <span id="read-more-text_remainder"></span></a> <div id="btw-modal-wrap" style="display: none;"><div id="btw-mask" style="position: fixed; top: 0px; right: 0px; bottom: 0px; left: 0px; opacity: 0.7; z-index: 999; background: rgb(0, 0, 0);"></div> <div id="btw-modal" style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 300px; text-align: center; font-size: 13px; background: rgb(255, 255, 255); border-radius: 10px; z-index: 9999; font-family: PingFangSC-Regular, sans-serif;"><span id="btw-modal-close-btn" style="position: absolute; top: 5px; right: 15px; line-height: 34px; font-size: 34px; cursor: pointer; opacity: 0.2; z-index: 9999; color: rgb(0, 0, 0); background: none; border: none; outline: none;">×</span> <p id="btw-modal-header" style="margin-top: 40px; line-height: 1.8; font-size: 13px;">
                  （为防止恶意爬虫）
                  <br>
                  扫码或搜索：<span style="color: #E9405A; font-weight: bold;">HelloCoder</span> <br>发送：<span id="fustack-token" class="token" style="color: #e9415a; font-weight: bold; font-size: 17px; margin-bottom: 45px;">290992</span> <br>即可<span style="color: #e9415a; font-weight: bold;">永久解锁</span>本站全部文章</p> <img src="/img/site/HelloCoder.png" style="width: 180px; margin-top: 10px; margin-bottom: 30px; border: 8px solid rgb(230, 230, 230);"> <div class="input-password"><input id="input_password" autocomplete="off" placeholder="请输入密码"> <span><a id="check_password" target="_self" class="btn-password"> 解锁 </a></span></div></div></div></div>  <div class="page-edit"><!----> <div class="tags"><a href="/tags/?tag=Redis" title="标签">#Redis</a><a href="/tags/?tag=%E9%9D%A2%E8%AF%95%E9%A2%98" title="标签">#面试题</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022-07-04 03:26:56</span></div></div> <div class="page-nav-wapper"><!----> <!----></div></div> <div class="article-list"><div class="article-title"><a href="/archives" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%AF%95%E8%AE%BE%E7%9A%84%E4%B8%80%E4%BA%9B%E5%BB%BA%E8%AE%AE/"><div>
            计算机毕设的一些建议
            <!----></div></a> <span class="date">06-20</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/Nginx%E5%8F%AF%E8%A7%86%E5%8C%96%E9%85%8D%E7%BD%AE%E7%A5%9E%E5%99%A8/"><div>
            Nginx可视化配置神器
            <!----></div></a> <span class="date">06-17</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/Java%E4%B9%A6%E6%9C%AC%E6%8E%A8%E8%8D%90/"><div>
            Java书本推荐
            <!----></div></a> <span class="date">06-17</span></dt></dl> <dl><dd></dd> <dt><a href="/archives" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:rainyudianxx@sina.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://www.zhihu.com/people/dai-ma-coder" title="知乎" target="_blank" class="iconfont icon-zhihu"></a><a href="/img/site/HelloCoder.png" title="微信公众号" target="_blank" class="iconfont icon-weixin"></a></div> 
    Theme by
    <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
      | Copyright © 2020-2022
      <span>程序员阿雨</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d0508845.js" defer></script><script src="/assets/js/3.627203dc.js" defer></script><script src="/assets/js/4.f8c5c538.js" defer></script><script src="/assets/js/34.c93cc189.js" defer></script>
  </body>
</html>
